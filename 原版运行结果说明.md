# OpenHands SWE-Bench åŸç‰ˆè¿è¡Œç»“æœè¯´æ˜

## ğŸ“ æ–‡ä»¶ä½ç½®

**åŸç‰ˆç¤ºä¾‹æ–‡ä»¶**: `çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl`

è¿™æ˜¯ä» OpenHands å®˜æ–¹ä»“åº“ä¸­æå–çš„çœŸå®è¯„æµ‹è¾“å‡ºç¤ºä¾‹ã€‚

## ğŸ“Š æ–‡ä»¶ä¿¡æ¯

- **æ–‡ä»¶å¤§å°**: 5.1 MB
- **æ ¼å¼**: JSONL (æ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡)
- **å®ä¾‹æ•°**: 30 ä¸ªçœŸå®çš„ SWE-Bench è¯„æµ‹å®ä¾‹
- **æ¥æº**: OpenHands å®˜æ–¹ç¤ºä¾‹ (`evaluation/benchmarks/swe_bench/examples/`)

## ğŸ” æ•°æ®ç»“æ„

æ¯è¡Œ JSON åŒ…å«ä»¥ä¸‹ä¸»è¦å­—æ®µ:

```json
{
  "instance_id": "sphinx-doc__sphinx-8721",        // SWE-Bench å®ä¾‹ ID
  "model_name": "gpt-4o-2024-11-20",              // ä½¿ç”¨çš„æ¨¡å‹
  "agent_class": "CodeActAgent",                   // Agent ç±»å‹
  "git_patch": "diff --git a/...",                 // ç”Ÿæˆçš„ä»£ç ä¿®å¤è¡¥ä¸
  "swe_instance": {                                // SWE-Bench åŸå§‹æ•°æ®
    "repo": "sphinx-doc/sphinx",
    "base_commit": "...",
    "problem_statement": "...",
    "patch": "...",                                // æ­£ç¡®çš„è¡¥ä¸ (ç”¨äºå¯¹æ¯”)
    "test_patch": "...",                           // æµ‹è¯•ç”¨ä¾‹
    ...
  },
  "metadata": {                                    // è¯„æµ‹å…ƒæ•°æ®
    "agent_class": "CodeActAgent",
    "max_iterations": 50,
    "git_commit": "...",
    ...
  },
  "history": [...],                                // Agent æ‰§è¡Œå†å²
  "metrics": {                                     // æ€§èƒ½æŒ‡æ ‡
    "accumulated_cost": 0.05,
    "total_tokens": 50000,
    ...
  },
  "instruction": "...",                            // ç»™ Agent çš„æŒ‡ä»¤
  "created_at": "2024-11-20T...",                 // åˆ›å»ºæ—¶é—´
  ...
}
```

## ğŸ“ˆ å®˜æ–¹åŸºå‡†æ•°æ®

æ ¹æ® OpenHands README æ˜¾ç¤ºçš„æœ€æ–°æ•°æ®:

### SWE-Bench Lite (300 å®ä¾‹)

| æ¨¡å‹ | Resolved Rate | æ•°æ®æ¥æº |
|------|---------------|---------|
| **OpenHands (æœ€æ–°)** | **72.8%** | [å®˜æ–¹ Spreadsheet](https://docs.google.com/spreadsheets/d/1wOUdFCMyY6Nt0AIqF705KN4JKOWgeI4wUGUP60krXXs/) |
| GPT-4o (2024-11-20) | ~45-50% | ç¤¾åŒºæŠ¥å‘Š |
| Claude 3.5 Sonnet | ~40-45% | ç¤¾åŒºæŠ¥å‘Š |
| Qwen2.5-Coder-32B | ~20-25% | é¢„ä¼° (åŸºäºå…¶ä»–è¯„æµ‹) |

### SWE-Bench Full (2,294 å®ä¾‹)

| æ¨¡å‹ | Resolved Rate |
|------|---------------|
| OpenHands | ~40-45% |
| å…¶ä»–å¼€æºæ–¹æ¡ˆ | ~15-25% |

## ğŸ¯ ç¤ºä¾‹å®ä¾‹

æ–‡ä»¶ä¸­åŒ…å«çš„éƒ¨åˆ†å®ä¾‹ (é€šè¿‡ grep æå–):

1. **sphinx-doc__sphinx-8721**
   - é¡¹ç›®: Sphinx æ–‡æ¡£ç”Ÿæˆå™¨
   - ç±»å‹: Bug ä¿®å¤

2. **django__django-15202**
   - é¡¹ç›®: Django Web æ¡†æ¶
   - ç±»å‹: Feature å®ç°

3. å…¶ä»– 28 ä¸ªçœŸå®çš„ GitHub issues...

## ğŸ’¡ å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶

### 1. æŸ¥çœ‹ç¤ºä¾‹æ ¼å¼

```bash
# æŸ¥çœ‹ç¬¬ä¸€ä¸ªå®ä¾‹ (æ ¼å¼åŒ–è¾“å‡º)
head -1 çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl | \
  python3 -c "import sys, json; print(json.dumps(json.loads(sys.stdin.read()), indent=2)[:2000])"
```

### 2. æå–å…³é”®å­—æ®µ

```bash
# æå–æ‰€æœ‰ instance_id
grep -o '"instance_id": "[^"]*"' çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl | \
  cut -d'"' -f4

# æå–æ¨¡å‹åç§°
grep -o '"model_name": "[^"]*"' çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl | \
  head -1
```

### 3. ç»Ÿè®¡ä¿¡æ¯

```bash
# ç»Ÿè®¡æ€»æ•°
wc -l çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl

# ç»Ÿè®¡æœ‰ git_patch çš„å®ä¾‹
grep -c '"git_patch":' çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl
```

## ğŸ“‹ ä¸æˆ‘ä»¬çš„æ¼”ç¤ºæ•°æ®å¯¹æ¯”

| ç‰¹æ€§ | åŸç‰ˆç¤ºä¾‹ | æˆ‘ä»¬çš„æ¼”ç¤ºæ•°æ® |
|------|---------|--------------|
| å®ä¾‹æ•° | 30 | 10 |
| æ–‡ä»¶å¤§å° | 5.1 MB | 2.3 KB |
| æ•°æ®å®Œæ•´æ€§ | å®Œæ•´ (å« history) | ç®€åŒ–ç‰ˆ |
| å¯è¯»æ€§ | å¤æ‚ | æ˜“è¯» |
| ç”¨é€” | å‚è€ƒçœŸå®æ ¼å¼ | å¿«é€Ÿæ¼”ç¤ºå¯¹æ¯”å·¥å…· |

## ğŸ”§ é€‚é…æ‚¨çš„è¯„æµ‹ç»“æœ

å½“æ‚¨è¿è¡Œè¯„æµ‹å,è¾“å‡ºæ–‡ä»¶å°†éµå¾ªç›¸åŒçš„æ ¼å¼:

```bash
# è¿è¡Œè¯„æµ‹
./run_baseline_eval.sh

# è¯„æµ‹å®Œæˆå,è¾“å‡ºæ–‡ä»¶ä½äº:
# evaluation/evaluation_outputs/outputs/.../output.jsonl

# ä½¿ç”¨å¯¹æ¯”å·¥å…·
python compare_results.py \
    --baseline evaluation/evaluation_outputs/.../baseline/output.jsonl \
    --optimized evaluation/evaluation_outputs/.../optimized/output.jsonl
```

## ğŸ“š å‚è€ƒèµ„æº

1. **OpenHands å®˜æ–¹æ–‡æ¡£**: https://docs.openhands.dev/
2. **SWE-Bench è®ºæ–‡**: https://arxiv.org/abs/2310.06770
3. **OpenHands GitHub**: https://github.com/OpenHands/OpenHands
4. **å®˜æ–¹è¯„æµ‹ç»“æœ**: [Google Spreadsheet](https://docs.google.com/spreadsheets/d/1wOUdFCMyY6Nt0AIqF705KN4JKOWgeI4wUGUP60krXXs/)

## ğŸ¯ å…³é”®æ´å¯Ÿ

ä»è¿™ä¸ªçœŸå®ç¤ºä¾‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°:

1. **æ•°æ®é‡**: æ¯ä¸ªå®ä¾‹çš„å®Œæ•´æ•°æ®çº¦ 170KB
   - åŒ…å«å®Œæ•´çš„ Agent æ‰§è¡Œå†å²
   - åŒ…å«æ‰€æœ‰çš„ Action å’Œ Observation
   - åŒ…å«è¯¦ç»†çš„å…ƒæ•°æ®å’ŒæŒ‡æ ‡

2. **å¤æ‚åº¦**: çœŸå®è¯„æµ‹æ•°æ®éå¸¸è¯¦ç»†
   - Agent çš„æ¯ä¸€æ­¥æ“ä½œéƒ½æœ‰è®°å½•
   - åŒ…å« LLM çš„å®Œæ•´è¾“å…¥è¾“å‡º
   - åŒ…å«ä»£ç æ‰§è¡Œç»“æœ

3. **æ ¼å¼æ ‡å‡†åŒ–**: éµå¾ª SWE-Bench å®˜æ–¹è§„èŒƒ
   - å…¼å®¹å®˜æ–¹è¯„ä¼°å·¥å…·
   - å¯ä»¥æäº¤åˆ°å®˜æ–¹ Leaderboard
   - åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ

## âœ… æ€»ç»“

ç°åœ¨æ‚¨æœ‰äº†:

1. âœ… **çœŸå®çš„åŸç‰ˆè¾“å‡ºç¤ºä¾‹** (`çœŸå®ç¤ºä¾‹_openhands_swe_bench_output.jsonl`)
2. âœ… **ç®€åŒ–çš„æ¼”ç¤ºæ•°æ®** (`demo_baseline_output.jsonl`, `demo_optimized_output.jsonl`)
3. âœ… **å¯¹æ¯”åˆ†æå·¥å…·** (`compare_results.py`)
4. âœ… **å®Œæ•´çš„è¯„æµ‹è„šæœ¬** (`run_baseline_eval.sh`, `run_optimized_eval.sh`)

**ä¸‹ä¸€æ­¥**: 
- å¦‚æœæœ‰ Docker,è¿è¡Œè¯„æµ‹ç”Ÿæˆè‡ªå·±çš„ç»“æœ
- å¦‚æœæ²¡æœ‰ Docker,å¯ä»¥å‚è€ƒè¿™ä¸ªçœŸå®ç¤ºä¾‹äº†è§£è¾“å‡ºæ ¼å¼

---

**æ–‡ä»¶ä½ç½®**: `/Users/bitfun/codes/closehands/`
**åˆ›å»ºæ—¥æœŸ**: 2025-11-22

